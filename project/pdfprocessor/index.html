<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.9.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><link rel=stylesheet href=/css/vendor-bundle.min.047268c6dd09ad74ba54a0ba71837064.css media=print onload='this.media="all"'><link rel=stylesheet href=/css/wowchemy.7eaca94f0cfe2f9115699dbdb8fbc775.css><link rel=stylesheet href=/css/libs/chroma/github-light.min.css title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=/css/libs/chroma/dracula.min.css title=hl-dark media=print onload='this.media="all"' disabled><meta name=author content="Adam Jelley"><meta name=description content="A project to extract, classify and summarise the content of PDF documents."><link rel=alternate hreflang=en-us href=https://adamjelley.github.io/project/pdfprocessor/><link rel=canonical href=https://adamjelley.github.io/project/pdfprocessor/><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hudb77e0d6599affbdab246cf9ea514ec9_35945_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hudb77e0d6599affbdab246cf9ea514ec9_35945_180x180_fill_lanczos_center_3.png><meta name=theme-color content="#1565c0"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:image" content="https://adamjelley.github.io/project/pdfprocessor/featured.png"><meta property="og:type" content="article"><meta property="og:site_name" content="Adam Jelley"><meta property="og:url" content="https://adamjelley.github.io/project/pdfprocessor/"><meta property="og:title" content="Automated PDF Processor | Adam Jelley"><meta property="og:description" content="A project to extract, classify and summarise the content of PDF documents."><meta property="og:image" content="https://adamjelley.github.io/project/pdfprocessor/featured.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2020-04-28T00:00:00+00:00"><meta property="article:modified_time" content="2020-04-28T00:00:00+00:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://adamjelley.github.io/project/pdfprocessor/"},"headline":"Automated PDF Processor","image":["https://adamjelley.github.io/project/pdfprocessor/featured.png"],"datePublished":"2020-04-28T00:00:00Z","dateModified":"2020-04-28T00:00:00Z","author":{"@type":"Person","name":"Adam Jelley"},"publisher":{"@type":"Organization","name":"Adam Jelley","logo":{"@type":"ImageObject","url":"https://adamjelley.github.io/media/icon_hudb77e0d6599affbdab246cf9ea514ec9_35945_192x192_fill_lanczos_center_3.png"}},"description":"A project to extract, classify and summarise the content of PDF documents."}</script><title>Automated PDF Processor | Adam Jelley</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=39f2439ec051115d3fb9263530ee4a09><script src=/js/wowchemy-init.min.980187dd755ac492a5ed9f5d2ea310ab.js></script><div class="page-header header--fixed"><header><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Adam Jelley</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Adam Jelley</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#about><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/#publications><span>Publications</span></a></li><li class=nav-item><a class=nav-link href=/#experience><span>Experience</span></a></li><li class=nav-item><a class=nav-link href=/#projects><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/#talks><span>Talks</span></a></li><li class=nav-item><a class=nav-link href=/#contact><span>Contact</span></a></li><li class=nav-item><a class=nav-link href=/uploads/CV.pdf><span>CV</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"></ul></div></nav></header></div><div class=page-body><article class="article article-project"><div class="article-container pt-3"><h1>Automated PDF Processor</h1><div class=article-metadata><span class=article-date>Apr 28, 2020</span></div><div class="btn-links mb-3"><a class="btn btn-outline-primary btn-page-header" href=https://github.com/AdamJelley/automated-pdf-processor target=_blank rel=noopener>Code</a>
<a class="btn btn-outline-primary btn-page-header" href=https://www.brighttalk.com/webcast/17108/403788 target=_blank rel=noopener>Video</a></div></div><div class="article-header article-container featured-image-wrapper mt-4 mb-4" style=max-width:561px;max-height:317px><div style=position:relative><img src=/project/pdfprocessor/featured_hu62ecfca5c91ae2c11fda219c5d2f1c19_167329_d88b81bc3eb41e8b78ff923b87f3b8b4.webp width=561 height=317 alt class=featured-image>
<span class=article-header-caption>Photo from Wikipedia</span></div></div><div class=article-container><div class=article-style><h1 id=overview>Overview</h1><p>This project takes PDF files as input, uses Optical Character Recognition (OCR) to extract the text for each input PDF, classifies the document into one of twenty article categories and summarises the text to an arbitrary number of sententences (by default 3 using Latent Semantic Analysis (LSA)), before composing the document title, classification, summary and original text into a text file which is emailed to the user.</p><h1 id=interface-usage-dashboard>Interface Usage (Dashboard)</h1><p>The <a href=dashboard:moj9XTy>dashboard</a> shows a view of the input PDFs and output files. Documents can be uploaded by dragging and dropping onto the left hand side of the dashboard. The <a href=scenario:ProcessDocument>scenario</a> to process the input PDFs can be triggered from here, and the text file contatining the classification, summary and full text will appear in the folder on the right hand side. Please see below for further information.</p><h1 id=data>Data</h1><p>Arbitrary PDF files can be placed into the <a href=managed_folder:QZb3pfTL>input folder</a> for classfication and summarisation.</p><p>The document classification model was trained on the 20 newsgroups dataset (<a href=http://qwone.com/~jason/20Newsgroups/ target=_blank rel=noopener>documentation</a>) which is publicly available from sci-kit learn as described <a href=https://scikit-learn.org/0.19/datasets/twenty_newsgroups.html# target=_blank rel=noopener>here</a>.</p><h1 id=project-components>Project Components</h1><h2 id=ocr-for-text-extraction>OCR for Text Extraction</h2><p>The PDFs are first converted to image files using pdf2image (<a href=https://pypi.org/project/pdf2image/ target=_blank rel=noopener>documentation</a>) <a href=recipe:compute_HNEvJqgm>here</a>. The OCR is then performed using Google&rsquo;s open-source Tesseract library (<a href=https://github.com/tesseract-ocr/tesseract#tesseract-ocr target=_blank rel=noopener>documentation</a>) <a href=recipe:compute_htEULTjD>here</a>.</p><h2 id=model-for-document-classification>Model for Document Classification</h2><p>As described above, the model was trained on the 20 newsgroups dataset available from sci-kit learn <a href=https://scikit-learn.org/0.19/datasets/twenty_newsgroups.html# target=_blank rel=noopener>here</a>. The model uses a multiclass logistic regression classifier built on top of a tf-idf transformer and achieves an AUC of 0.995. Full details of the model are available <a href=saved_model:y1EXaY1m>here</a>.</p><h2 id=text-summarisation>Text Summarisation</h2><p>The text summarisation was performed using Dataiku&rsquo;s Text Summarisation <a href=recipe:compute_PDF_topics>plugin</a> (<a href=https://www.dataiku.com/product/plugins/text-summarization/ target=_blank rel=noopener>documentation</a>). This plugin provides an interface for three popular text summarisation algorithms including <a href=https://web.eecs.umich.edu/~mihalcea/papers/mihalcea.emnlp04.pdf target=_blank rel=noopener>TextRank</a>, <a href=http://www.aclweb.org/anthology/N09-1041 target=_blank rel=noopener>KL-Sum</a> and <a href=http://www.kiv.zcu.cz/~jstein/publikace/isim2004.pdf target=_blank rel=noopener>LSA</a>. By default this project uses LSA to select 3 sentences to summarise the document, but this can be changed using the <a href=recipe:compute_PDF_topics>plugin</a> UI.</p><h1 id=flow>Flow</h1><p>The top part of the flow converts the <a href=recipe:compute_HNEvJqgm>PDFs to images</a>, <a href=recipe:compute_htEULTjD>extracts the text</a> using OCR and <a href=recipe:compute_PDF_topics>summarises</a> the document.</p><p>The bottom part of the flow gets the <a href=dataset:twenty_newsgroups>documents</a> and <a href=dataset:target_names_prepared>labels</a>, <a href=recipe:compute_twenty_newsgroups_joined>joins</a> them together to create the <a href=dataset:twenty_newsgroups_joined>training data</a>, trains the <a href=saved_model:y1EXaY1m>model</a> on this training data and uses the model to <a href=dataset:PDF_text_labelled>classify</a> the document.</p><p>The document summary is then <a href=recipe:compute_PDF_topics_category>joined</a> to the document classification, which are cleaned up and written to <a href=managed_folder:htEULTjD>output files</a> for each document.</p><h1 id=running-the-flow--automation>Running the Flow / Automation</h1><p>The flow can be run using the scenario <a href=scenario:ProcessDocument>ProcessDocument</a>. This scenario will extract the text from all input PDFs, classify and summarise the document, create the output file and email this to the user. By default, text extraction will not be re-performed if the PDF has been processed previously (so previously processed PDFs will not be cleared even if they are removed from the input), but this behaviour can be modified by changing the project variable &lsquo;reprocess_PDFs&rsquo; to &lsquo;True&rsquo; in the first step of the scenario.</p><p>Alternatively, when a new PDF is dropped into the <a href=managed_folder:QZb3pfTL>input folder</a>, DSS will automatically recognise that the input has changed, run the flow and email the user the end result. DSS is currently set to check the input folder every 2 minutes and will run the flow it detects that the input has changed and there have been no further changes made over the following minute.</p></div><div class=share-box><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fadamjelley.github.io%2Fproject%2Fpdfprocessor%2F&amp;text=Automated+PDF+Processor" target=_blank rel=noopener class=share-btn-twitter aria-label=twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fadamjelley.github.io%2Fproject%2Fpdfprocessor%2F&amp;t=Automated+PDF+Processor" target=_blank rel=noopener class=share-btn-facebook aria-label=facebook><i class="fab fa-facebook"></i></a></li><li><a href="mailto:?subject=Automated%20PDF%20Processor&amp;body=https%3A%2F%2Fadamjelley.github.io%2Fproject%2Fpdfprocessor%2F" target=_blank rel=noopener class=share-btn-email aria-label=envelope><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Fadamjelley.github.io%2Fproject%2Fpdfprocessor%2F&amp;title=Automated+PDF+Processor" target=_blank rel=noopener class=share-btn-linkedin aria-label=linkedin-in><i class="fab fa-linkedin-in"></i></a></li></ul></div><div class="media author-card content-widget-hr"><a href=https://adamjelley.github.io/><img class="avatar mr-3 avatar-circle" src=/authors/admin/avatar_hua3b2844ab5470f518bf3e012e3758368_1400082_270x270_fill_q75_lanczos_center.jpg alt="Adam Jelley"></a><div class=media-body><h5 class=card-title><a href=https://adamjelley.github.io/>Adam Jelley</a></h5><h6 class=card-subtitle>PhD Student in Deep Reinforcement Learning</h6><p class=card-text>PhD Student in efficient reinforcement learning.</p><ul class=network-icon aria-hidden=true><li><a href=mailto:adam.jelley@ed.ac.uk><i class="fas fa-envelope"></i></a></li><li><a href="https://scholar.google.com/citations?user=39t3yJcAAAAJ" target=_blank rel=noopener><i class="fas fa-graduation-cap"></i></a></li><li><a href=https://github.com/AdamJelley target=_blank rel=noopener><i class="fab fa-github"></i></a></li><li><a href=https://www.linkedin.com/adamjelley target=_blank rel=noopener><i class="fab fa-linkedin"></i></a></li></ul></div></div><div class="project-related-pages content-widget-hr"><h2>Events</h2><div class="media stream-item view-compact"><div class=media-body><div class="section-subheading article-title mb-0 mt-0"><a href=/talk/sort-it-build-a-pdf-processor/>SORT IT - Build a PDF Processor</a></div><a href=/talk/sort-it-build-a-pdf-processor/ class=summary-link><div class=article-style>How to build a PDF processor to automatically extract, classify and summarise PDF documents.</div></a><div class="stream-meta article-metadata"><div><span>Apr 28, 2020</span>
<span class=middot-divider></span>
<span>Online</span></div></div><div class=btn-links><a class="btn btn-outline-primary btn-page-header btn-sm" href=/project/pdfprocessor/>Project</a>
<a class="btn btn-outline-primary btn-page-header btn-sm" href=https://www.brighttalk.com/webcast/17108/403788 target=_blank rel=noopener>Video</a></div></div><div class=ml-3><a href=/talk/sort-it-build-a-pdf-processor/><img src=/talk/sort-it-build-a-pdf-processor/featured_hu62ecfca5c91ae2c11fda219c5d2f1c19_167329_9f62258f5f65b4fc483a3aa9866fc8c8.webp height=85 width=150 alt="SORT IT - Build a PDF Processor" loading=lazy></a></div></div></div></div></article></div><div class=page-footer><div class=container><footer class=site-footer><p class=powered-by>Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target=_blank rel=noopener>Wowchemy</a> â€” the free, <a href=https://github.com/wowchemy/wowchemy-hugo-themes target=_blank rel=noopener>open source</a> website builder that empowers creators.</p></footer></div></div><script src=/js/vendor-bundle.min.f64289d8217e08e3afcd597d60836062.js></script>
<script id=page-data type=application/json>{"use_headroom":true}</script><script src=/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js type=module></script>
<script src=/en/js/wowchemy.min.72a17850a2ab0825ad2ca80ba3652d55.js></script><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div><script src=/js/wowchemy-publication.9137013a66774049159934c29c3f0205.js type=module></script></body></html>